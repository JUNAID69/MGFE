{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Menu | Bar Stock Exchange</title>

    <link rel="stylesheet" href="{% static '/css/styles.css' %}" />
    <link rel="stylesheet" href="{% static '/css/home.css' %}" />
    <link rel="stylesheet" href="{% static '/css/menu.css' %}" />

    <style>
        li.openedFooter {
            width: 135px !important;
            border-radius: 0 !important;
            box-shadow: none !important;
            border: none !important;
        }

        li.openedFooter span {
            color: wheat !important;
            font-weight: 600;
            text-align: right;
        }
    </style>
</head>

<body class="MenuPage">
    <header>
        <img class="logo" src="{% static '/images/Logo/cover.png' %}" alt="" />
    </header>

    <div class="heading">
        <span class="headingName">{{cuisine}}</span>
    </div>

    <div class="modal remove" id="modal">
        <div class="quantityModal remove" id="quantity">
            <div class="header">
                <button id="backBtn" onclick="modalClose()">Back</button>
                <span id="dishType">Beer</span>
            </div>

            <div class="dish">
                <h2 id="dishName"></h2>
                <h4>Select Quantity</h4>

                <ul id="quantityList">

                </ul>
            </div>
        </div>

        <div class="confirmModal remove" id="confirm">
            <h2 id="dishName1"></h2>
            <h4 id="quantity1"></h4>
            <h4>Are you Sure ?</h4>
            <div class="flexbox" id="submitDish">

            </div>

        </div>
    </div>

    <div class="itemList">
        {% for dish in all_dish %}

        <div class="item">
            <div class="left">
                <span>{{ dish.name }}
                    <br />
                    <span class="price"> â‚¹ {{ dish.price }}</span>
                </span>
            </div>

            <div class="right" data-dish-name="{{ dish.name }}">
                <div class="right-2">

                    <button class="addbutton" data-name="{{ dish.name }}" data-type="{{cuisine}}"
                        data-price="{{ dish.price }}" data-cuisine="{{ cuisine }}" onclick="modal(this)">
                        ADD </button>
                        
                </div>
            </div>
        </div>

        {% endfor %}
    </div>

    <footer>
		<div class="footerGrid">
			<a href="{% url 'homePage' %}">
				<li id="homeSlide" class="footerTab " >
					<img src="{% static '/images/home.png' %}" alt="" />
					<img src="{% static '/images/home1.png' %}" alt="" />
					<span>Home</span>
				</li>
			</a>
	
			<a href="{% url 'explorePage' %}">
				<li id="exploreSlide" class="footerTab" >
					<img src="{% static '/images/explore.png' %}" alt="" />
					<img src="{% static '/images/explore1.png' %}" alt="" />
					<span>Explore</span>
				</li>
			</a>
	
			<a href="{% url 'orderPage' %}">
				<li id="orderSlide" class="footerTab" >
					<img src="{% static '/images/ordered.png' %}" alt="" />
					<img src="{% static '/images/ordered1.png' %}" alt="" />
					<span>Order</span>
				</li>
			</a>
		</div>

		

	</footer>

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous">
    </script>

    <script src="{% static 'js/menu.js' %}"></script>

    {% comment %} <script>

        function yesConfirm(dname, dqty, dprice, dcuisine) {

            $.ajax({
                type: "POST",
                url: "{% url 'showMenu' 'asd' %}".replace('asd', dcuisine),
                data: {
                    csrfmiddlewaretoken: "{{ csrf_token }}",   // < here 
                    state: "inactive",
                    dname: dname,
                    dqty: parseInt(dqty, 10),
                    dprice: parseInt(dprice, 10),
                },
                success: function () {
                    window.location.href = '/home/1/'
                }
            });

        }

        function noConfirm() {

            var quantity = document.getElementById("quantity");
            quantity.classList.remove("remove");


            var confirm = document.getElementById("confirm");
            confirm.classList.add("remove");

        }


        function confirmDish(dname, dqty, dprice, dcuisine) {

            var quantity = document.getElementById("quantity");
            quantity.classList.add("remove");

            var dishName1 = document.getElementById("dishName1");
            var quantity1 = document.getElementById("quantity1");
            var submitDish = document.getElementById("submitDish");

            submitDish.innerHTML = `
            <button id="submitDish" 
            onclick="yesConfirm('${dname}', '${dqty}', '${dprice}', '${dcuisine}')"> 
            Yes </button>
            <button onclick="noConfirm()"> No </button>`

            dishName1.innerHTML = dname;
            quantity1.innerHTML = "Quantity Choosen : " + dqty;


            var confirm = document.getElementById("confirm");
            confirm.classList.remove("remove");

        }

        function modalClose() {
            var modal = document.getElementById("modal");
            var quantity = document.getElementById("quantity");

            modal.classList.add("remove");
            quantity.classList.add("remove");
        }

        function modal(dish) {
            var modal = document.getElementById("modal");
            var quantity = document.getElementById("quantity");
            var quantityList = document.getElementById("quantityList");
            var dishType = document.getElementById("dishType");
            var dishName = document.getElementById("dishName");

            dishType.innerHTML = dish.dataset.type;
            dishName.innerHTML = dish.dataset.name;

            dname = dish.dataset.name;
            dtype = dish.dataset.type;
            dprice = dish.dataset.price;
            dcuisine = dish.dataset.cuisine;

            modal.classList.remove("remove");
            quantity.classList.remove("remove");

            quantityList.innerHTML = "";

            for (let i = 1; i <= 10; i++) {
                quantityList.innerHTML += `
                    <li onclick = "confirmDish('${dname}', '${i}', '${dprice}', '${dcuisine}')">${i}</li>
                `
            }
        }

    </script> {% endcomment %}


</body>

</html>